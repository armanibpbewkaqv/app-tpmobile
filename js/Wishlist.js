(window.webpackJsonp=window.webpackJsonp||[]).push([["Wishlist"],{"157d":function(t,e,n){"use strict";n("8415")},"31eb":function(t,e,n){t.exports=n.p+"img/custom-empty-image.png"},"430e":function(t,e,n){"use strict";n.r(e),n("e7e5");var r=n("d399"),i=(n("e17f"),n("2241")),u=n("1da1"),a=(n("96cf"),n("159b"),n("c24f")),c=n("c4c8"),s=n("fa7d"),o={data:function(){return{wishlist:[],emptyImage:n("31eb")}},created:function(){this.requestWishList()},methods:{requestWishList:function(){var t=this;return Object(u.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.n)({userId:t.$store.state.user.userId,currencyId:t.$store.state.currentCurrency.currencyCode,type:2});case 2:(n=e.sent).attention.num>0?(t.wishlist=n.attention.products,t.wishlist.forEach((function(e){e.imgDisplay=s.f+e.imgDisplay,e.curPrice=Object(s.n)(e.curPrice,t.$store.state.currentCurrency)}))):t.wishlist=[];case 4:case"end":return e.stop()}}),e)})))()},deleteProduct:function(t,e){var n=this;t.stopPropagation(),i.a.confirm({title:this.$t("bag.deleteProductTitle"),message:this.$t("bag.deleteProductContent")}).then((function(){n.requestDelWishlist(n.wishlist[e].productId,n.wishlist[e].productColorId)})).catch((function(){}))},requestDelWishlist:function(t,e){var n=this;return Object(u.a)(regeneratorRuntime.mark((function i(){var u;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u={userId:n.$store.state.user?n.$store.state.user.userId:null,productId:t,colorId:e,type:"2"},i.next=3,Object(c.a)(u).then((function(){n.requestWishList()})).catch((function(t){r.a.fail(n.$t("wishlist.deleteFailed"))}));case 3:case"end":return i.stop()}}),i)})))()},toProductDetail:function(t){this.$router.push("/detail/"+Object(s.l)(t.productId)+"/"+Object(s.l)(t.productColorId))}}},l=(n("157d"),n("2877")),d=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wishlist-container"},[n("van-nav-bar",{staticClass:"app-nav-bar",attrs:{title:t.$t("wishlist.title"),fixed:""}},[n("div",{attrs:{slot:"left"},slot:"left"},[n("i",{staticClass:"iconfont icon-fanhui",on:{click:function(e){return t.$router.go(-1)}}})])]),n("div",{staticClass:"main-wrap"},[0==t.wishlist.length?n("div",{staticClass:"empty-wrap"},[n("van-empty",{attrs:{description:t.$t("common.emptyData"),image:t.emptyImage}})],1):t._e(),t.wishlist.length>0?n("div",t._l(t.wishlist,(function(e,r){return n("div",{key:e.productColorId,staticClass:"product-item-wrap",on:{click:function(n){return t.toProductDetail(e)}}},[n("div",{staticClass:"product-image-wrap"},[n("van-image",{staticClass:"product-image",attrs:{src:e.imgDisplay,alt:e.productName,"lazy-load":""},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})],1),n("div",{staticClass:"price-wrap"},[n("div",{staticClass:"price"},[t._v(t._s(e.curPrice))]),n("i",{staticClass:"iconfont icon-shanchu",on:{click:function(e){return t.deleteProduct(e,r)}}})])])})),0):t._e()])],1)}),[],!1,null,"31824014",null);e.default=d.exports},8415:function(t,e,n){},c4c8:function(t,e,n){"use strict";n.d(e,"m",(function(){return i})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"o",(function(){return o})),n.d(e,"j",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"g",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return g})),n.d(e,"n",(function(){return w}));var r=n("b775"),i=function(t){return Object(r.a)({url:"/productsbymenuandtag",data:t})},u=function(t){return Object(r.a)({url:"/menucustomcontent",data:t})},a=function(t){return Object(r.a)({url:"/product_detail",data:t})},c=function(t){return Object(r.a)({url:"/getallviewofprd",data:t})},s=function(t){return Object(r.a)({url:"/attention",data:t})},o=function(t){return Object(r.a)({url:"/search_products",data:t})},l=function(t){return Object(r.a)({url:"/products_rel",data:t})},d=function(t){return Object(r.a)({url:"/getmenuadscnt",data:t})},f=function(t){return Object(r.a)({url:"/countproduct",data:t})},p=function(t){return Object(r.a)({url:"/filterattrbysearchkey",data:t})},h=function(t){return Object(r.a)({url:"/flashsalesummry",data:t})},m=function(t){return Object(r.a)({url:"/flashsalefilter",data:t})},b=function(t){return Object(r.a)({url:"/flashsaleproducts",data:t})},g=function(t){return Object(r.a)({url:"/curflashsaleproducts",data:t})},w=function(t){return Object(r.a)({url:"/listimgwall",data:t})}}}]);