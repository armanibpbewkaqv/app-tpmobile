(window.webpackJsonp=window.webpackJsonp||[]).push([["EmailVerification"],{"0bfe":function(t,e,i){},"4bd6":function(t,e,i){"use strict";i("0bfe")},bc5e:function(t,e,i){"use strict";i.r(e),i("e7e5");var s=i("d399"),n=i("1da1"),a=(i("96cf"),i("c24f")),r={data:function(){return{userInfo:this.$store.state.user?this.$store.state.user:null,showSuccessHint:!1,showErrorHint:!1,btnDisable:!1,countDown:60,btnText:this.$t("me.emailVerifyBtn")}},created:function(){},watch:{"$store.state.user":function(){this.userInfo=this.$store.state.user?this.$store.state.user:null}},beforeRouteLeave:function(t,e,i){i(),this.showSuccessHint=!1,this.showErrorHint=!1},methods:{reqeustVerifyEmail:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.v)({userId:t.userInfo.userId,email:t.userInfo.email}).then((function(e){t.handleVerifyInfo()})).catch((function(e){"EC1007"===e.data.code?t.$store.commit("showLoginPanel"):s.a.fail(e.data.msg)}));case 2:case"end":return e.stop()}}),e)})))()},handleVerifyInfo:function(){var t=this;this.showSuccessHint=!0,this.btnDisable=!0,this.btnText=this.countDown+"s";var e=setInterval((function(){t.countDown>0?(t.btnText=t.countDown+"s",t.countDown--):(clearInterval(e),t.btnText=t.$t("me.emailVerifyBtn"),t.countDown=60,t.btnDisable=!1,t.showErrorHint=!0)}),1e3)}}},o=(i("4bd6"),i("2877")),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"email-verifi-container"},[i("van-nav-bar",{staticClass:"app-nav-bar",attrs:{title:t.$t("me.emailVerifyTitle"),fixed:""}},[i("div",{attrs:{slot:"left"},slot:"left"},[i("i",{staticClass:"iconfont icon-fanhui",on:{click:function(e){return t.$router.go(-1)}}})])]),i("div",{staticClass:"email-verifi-wrap"},[i("i",{staticClass:"iconfont icon-yanzhengfengxianhuise email-icon"}),i("div",{staticClass:"title"},[t._v(t._s(t.$t("me.emailVerifyTitle")))]),i("div",{staticClass:"desc"},[t._v(t._s(t.$t("me.emailVerifyPoint",[this.$store.state.pointConf.verifyEmail.points])))]),t.userInfo?i("div",{staticClass:"email"},[t._v(t._s(t.userInfo.email))]):t._e(),i("van-button",{staticClass:"verify-btn",attrs:{block:"",disabled:t.btnDisable},on:{click:t.reqeustVerifyEmail}},[t._v(t._s(t.btnText))]),t.showSuccessHint?i("div",{staticClass:"success-hint"},[t._v(t._s(t.$t("me.emailVerifySuccess")))]):t._e(),t.showErrorHint?i("div",{staticClass:"error-hint"},[i("div",[t._v(t._s(t.$t("me.emailVerifyFailTitle")))]),i("div",[t._v(t._s(t.$t("me.emailVerifyFailDesc1")))]),i("div",[t._v(t._s(t.$t("me.emailVerifyFailDesc2"))+" "),i("span",[t._v("foortweldone@gmail.com")])])]):t._e()],1)],1)}),[],!1,null,"6a903d38",null);e.default=c.exports}}]);